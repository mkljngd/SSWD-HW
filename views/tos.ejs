<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/styles.css" />
    <title>Terms of Service</title>
    <style>
      .top-half-bg {
        background-color: #253e48;
      }

      .error-message {
        color: red;
        font-size: 0.875rem;
        display: none;
      }

      .disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      input[type="checkbox"]:hover,
      label:hover {
        cursor: pointer;
      }
    </style>
  </head>

  <body class="bg-gray-100">
    <div class="top-half-bg flex justify-center items-center h-1/3 w-full">
      <h2 class="text-3xl font-bold text-white mt-4 text-center">
        Terms of Service
      </h2>
    </div>

    <div
      class="container max-w-lg mx-auto bg-white mt-8 p-6 rounded-t-3xl shadow-lg"
    >
      <form action="/tos" method="POST" class="space-y-6" id="tos-form">
        <input type="hidden" name="patientId" value="<%= patientId %>" />

        <div class="mb-4">
          <label class="block text-gray-700 font-semibold mb-2"
            >Review the Terms of Service below:</label
          >
          <div
            class="terms-of-service bg-gray-100 border border-gray-300 rounded-lg p-4"
            style="max-height: 250px; overflow-y: auto"
          >
            <h3><strong>Terms of Service:</strong></h3>
            <p>
              <strong>1. Acceptance of Terms:</strong> By accessing and using
              our services, you agree to be bound by these Terms of Service
              ("Terms"). If you do not agree with any part of the Terms, you
              must discontinue use of the service immediately. Your use of our
              services constitutes acceptance of these Terms.
            </p>

            <p>
              <strong>2. Changes to Terms:</strong> We reserve the right to
              modify, amend, or update these Terms at any time without prior
              notice. It is your responsibility to review the Terms
              periodically. Continued use of the service after modifications
              indicates your acceptance of the updated Terms.
            </p>

            <p>
              <strong>3. User Responsibilities:</strong> You agree to use the
              service only for lawful purposes and in accordance with these
              Terms. You must not engage in any conduct that could harm the
              service, its users, or third parties. This includes, but is not
              limited to, transmitting any viruses, malware, or other harmful
              code, or attempting unauthorized access to our systems.
            </p>

            <p>
              <strong>4. Account and Password:</strong> When creating an
              account, you agree to provide accurate and complete information.
              You are responsible for maintaining the confidentiality of your
              account details, including your password, and for any activity
              under your account. We are not liable for any loss or damage
              arising from your failure to secure your account information.
            </p>

            <p>
              <strong>5. Privacy and Data Protection:</strong> Your privacy is
              important to us. We are committed to safeguarding your personal
              information. By using our service, you consent to the collection
              and use of your information as outlined in our Privacy Policy. We
              adhere to applicable data protection laws and ensure that your
              data is treated with care.
            </p>

            <p>
              <strong>6. Termination of Service:</strong> We reserve the right
              to suspend or terminate your access to the service at our sole
              discretion, without notice, for any conduct that we believe
              violates these Terms, is harmful to other users, or is otherwise
              detrimental to the service. Upon termination, your right to use
              the service will cease immediately.
            </p>

            <p>
              <strong>7. Limitation of Liability:</strong> To the fullest extent
              permitted by law, we disclaim all liability for any damages,
              including but not limited to direct, indirect, incidental,
              punitive, or consequential damages, arising from the use of, or
              inability to use, the service. This includes any harm caused by
              interruptions, errors, omissions, or delays in operation.
            </p>

            <p>
              <strong>8. Governing Law:</strong> These Terms are governed by and
              construed in accordance with the laws of the jurisdiction where
              our company is registered. Any disputes arising under or related
              to these Terms shall be resolved exclusively in the courts of this
              jurisdiction.
            </p>

            <p>
              <strong>9. Indemnification:</strong> You agree to indemnify and
              hold harmless our company, its officers, directors, employees, and
              agents from any claims, liabilities, damages, losses, or expenses
              (including legal fees) arising from your use of the service, your
              violation of these Terms, or your violation of any third-party
              rights.
            </p>

            <p>
              <strong>10. Miscellaneous:</strong> If any provision of these
              Terms is found to be invalid or unenforceable, the remaining
              provisions shall remain in full force and effect. These Terms
              constitute the entire agreement between you and our company
              regarding the use of the service.
            </p>
          </div>
        </div>

        <div class="mb-4 flex items-center">
          <input
            type="checkbox"
            name="tos"
            value="accepted"
            id="tos-checkbox"
            class="mr-2"
          />
          <label for="tos-checkbox" class="text-gray-700"
            >I accept the Terms of Service</label
          >
        </div>

        <p id="error-message" class="error-message">
          You must accept the Terms of Service before submitting.
        </p>

        <div class="text-center mt-6 flex justify-between">
          <a
            href="/schedule?patientId=<%= patientId %>"
            class="bg-gray-500 text-white px-6 py-3 rounded-full shadow-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500"
          >
            Back
          </a>
          <button
            type="submit"
            id="submit-btn"
            class="bg-orange-500 text-white px-6 py-3 rounded-full shadow-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled"
            disabled
          >
            Submit
          </button>
        </div>
      </form>
    </div>

    <script>
      const checkbox = document.getElementById("tos-checkbox");
      const submitBtn = document.getElementById("submit-btn");
      const errorMessage = document.getElementById("error-message");

      if (checkbox.checked) {
        submitBtn.disabled = false;
        submitBtn.classList.remove("disabled");
        errorMessage.style.display = "none";
      }

      checkbox.addEventListener("change", function () {
        if (this.checked) {
          submitBtn.disabled = false;
          submitBtn.classList.remove("disabled");
          errorMessage.style.display = "none";
        } else {
          submitBtn.disabled = true;
          submitBtn.classList.add("disabled");
          errorMessage.style.display = "block";
        }
      });

      document
        .getElementById("tos-form")
        .addEventListener("submit", function (event) {
          if (!checkbox.checked) {
            event.preventDefault();
            errorMessage.style.display = "block";
          }
        });
    </script>
  </body>
</html>
